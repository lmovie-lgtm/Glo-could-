{'role': 'assistant', 'content': 'Now let me create the complete JavaScript system with all advanced features:\n\n<function_calls>\n<create-file file_path="js/app.js">\n// Global Pilgrim Bank - Main Application JavaScript\n// Owner: Olawale Abdul-Ganiyu Adeshina (Adegan95)\n\n// ============================================\n// CONFIGURATION & CONSTANTS\n// ============================================\n\nconst ADMIN_CONFIG = {\n    account: "22203477535", // BVN\n    phone: "+2349030277275",\n    pin: "9595",\n    name: "Olawale Abdul-Ganiyu Adeshina",\n    alias: "Adegan95",\n    email: "adegan95@gmail.com",\n    secondaryEmail: "olawalzte@gmail.com"\n};\n\nconst BANK_INFO = {\n    name: "Global Pilgrim Bank",\n    code: "Agb 999",\n    account: "0001234567",\n    bvn: "22203477535",\n    swift: "GPBNGNLA",\n    cscs: "CSCS12345"\n};\n\nconst EXCHANGE_RATES = {\n    USD: 1,\n    NGN: 1500,\n    EUR: 0.92,\n    GBP: 0.78,\n    CHF: 0.88,\n    CAD: 1.36,\n    AUD: 1.53,\n    JPY: 149.50\n};\n\nconst TRANSACTION_TYPES = {\n    CREDIT: "credit",\n    DEBIT: "debit",\n    TRANSFER: "transfer",\n    MINING: "mining",\n    ROBOT_TRADE: "robot_trade",\n    WITHDRAWAL: "withdrawal",\n    DEPOSIT: "deposit",\n    SWIFT: "swift_transfer",\n    LOCAL: "local_transfer"\n};\n\n// Bank Network Configuration\nconst BANK_NETWORK = {\n    local: {\n        GTB: { name: "Guaranty Trust Bank", code: "058" },\n        FBN: { name: "First Bank of Nigeria", code: "011" },\n        UBA: { name: "United Bank for Africa", code: "033" },\n        Access: { name: "Access Bank", code: "044" },\n        Zenith: { name: "Zenith Bank", code: "057" },\n        Fidelity: { name: "Fidelity Bank", code: "070" },\n        Wema: { name: "Wema Bank", code: "035" },\n        OPay: { name: "OPay", code: "999" },\n        PalmPay: { name: "PalmPay", code: "998" },\n        Moniepoint: { name: "Moniepoint", code: "997" },\n        Kuda: { name: "Kuda Bank", code: "50211" },\n        Sterling: { name: "Sterling Bank", code: "232" }\n    },\n    international: {\n        US: { name: "United States", swift: "US" },\n        UK: { name: "United Kingdom", swift: "GB" },\n        EU: { name: "Eurozone", swift: "EU" },\n        CH: { name: "Switzerland", swift: "CH" },\n        CA: { name: "Canada", swift: "CA" },\n        AU: { name: "Australia", swift: "AU" },\n        JP: { name: "Japan", swift: "JP" }\n    }\n};\n\n// ============================================\n// DATA STORAGE INITIALIZATION\n// ============================================\n\nfunction initializeStorage() {\n    if (!localStorage.getItem(\'customers\')) {\n        localStorage.setItem(\'customers\', JSON.stringify([]));\n    }\n    if (!localStorage.getItem(\'transactions\')) {\n        localStorage.setItem(\'transactions\', JSON.stringify([]));\n    }\n    if (!localStorage.getItem(\'profit\')) {\n        localStorage.setItem(\'profit\', \'0\');\n    }\n    if (!localStorage.getItem(\'mainBalance\')) {\n        localStorage.setItem(\'mainBalance\', \'0\');\n    }\n    if (!localStorage.getItem(\'attempts\')) {\n        localStorage.setItem(\'attempts\', JSON.stringify([]));\n    }\n    if (!localStorage.getItem(\'networkLogs\')) {\n        localStorage.setItem(\'networkLogs\', JSON.stringify([]));\n    }\n    if (!localStorage.getItem(\'terminalLogs\')) {\n        localStorage.setItem(\'terminalLogs\', JSON.stringify([]));\n    }\n    if (!localStorage.getItem(\'signalLogs\')) {\n        localStorage.setItem(\'signalLogs\', JSON.stringify([]));\n    }\n    if (!localStorage.getItem(\'pendingTransfers\')) {\n        localStorage.setItem(\'pendingTransfers\', JSON.stringify([]));\n    }\n    if (!localStorage.getItem(\'bankConnections\')) {\n        localStorage.setItem(\'bankConnections\', JSON.stringify([]));\n    }\n}\n\n// Initialize on load\ninitializeStorage();\n\n// ============================================\n// NETWORK SIGNAL TERMINAL\n// ============================================\n\nfunction logToTerminal(message, type = \'info\', source = \'SYSTEM\') {\n    const terminalLogs = JSON.parse(localStorage.getItem(\'terminalLogs\')) || [];\n    \n    terminalLogs.push({\n        id: generateLogId(),\n        timestamp: new Date().toISOString(),\n        message: message,\n        type: type,\n        source: source,\n        ip: getCurrentIP(),\n        status: \'logged\'\n    });\n    \n    // Keep only last 500 logs\n    if (terminalLogs.length > 500) {\n        terminalLogs.splice(0, terminalLogs.length - 500);\n    }\n    \n    localStorage.setItem(\'terminalLogs\', JSON.stringify(terminalLogs));\n    \n    // Display in terminal if exists\n    const terminalDiv = document.getElementById(\'terminal\');\n    if (terminalDiv) {\n        const colorMap = {\n            \'info\': \'#22c55e\',\n            \'success\': \'#16a34a\',\n            \'warning\': \'#f59e0b\',\n            \'error\': \'#ef4444\',\n            \'signal\': \'#8b5cf6\',\n            \'transfer\': \'#3b82f6\'\n        };\n        \n        const logEntry = document.createElement(\'p\');\n        const timestamp = new Date().toLocaleTimeString();\n        logEntry.innerHTML = `<span style="color: #64748b;">[${timestamp}]</span> <span style="color: ${colorMap[type]};">[${source}]</span> <span style="color: ${colorMap[type]};">${message}</span>`;\n        terminalDiv.appendChild(logEntry);\n        terminalDiv.scrollTop = terminalDiv.scrollHeight;\n    }\n}\n\nfunction logSignalTransfer(transferData, status) {\n    const signalLogs = JSON.parse(localStorage.getItem(\'signalLogs\')) || [];\n    \n    signalLogs.push({\n        id: generateLogId(),\n        timestamp: new Date().toISOString(),\n        transferId: transferData.id,\n        source: transferData.sourceBank,\n        destination: transferData.destinationBank,\n        amount: transferData.amount,\n        currency: transferData.currency,\n        status: status,\n        signal: generateSignal(transferData),\n        account: transferData.accountNumber\n    });\n    \n    localStorage.setItem(\'signalLogs\', JSON.stringify(signalLogs));\n    \n    logToTerminal(`Signal Transfer: ${transferData.sourceBank} -> ${transferData.destinationBank} | Amount: ${transferData.amount} ${transferData.currency} | Status: ${status}`, \'signal\', \'SIGNAL_TERMINAL\');\n}\n\nfunction generateSignal(transferData) {\n    // Generate unique signal for interbank communication\n    const timestamp = Date.now().toString(36);\n    const random = generateRandomString(16);\n    const bankCode = BANK_INFO.swift;\n    return `${bankCode}-${timestamp}-${random}`;\n}\n\n// ============================================\n// BANK NETWORK CONNECTIONS\n// ============================================\n\nfunction addBankConnection(bankCode, bankName, type) {\n    const connections = JSON.parse(localStorage.getItem(\'bankConnections\')) || [];\n    \n    // Check if connection exists\n    if (connections.find(c => c.bankCode === bankCode)) {\n        logToTerminal(`Bank connection already exists: ${bankName}`, \'warning\', \'NETWORK\');\n        return false;\n    }\n    \n    const connection = {\n        id: generateConnectionId(),\n        bankCode: bankCode,\n        bankName: bankName,\n        type: type, // \'local\' or \'international\'\n        status: \'connected\',\n        latency: Math.floor(Math.random() * 100) + 20,\n        connectedAt: new Date().toISOString(),\n        lastSignal: new Date().toISOString()\n    };\n    \n    connections.push(connection);\n    localStorage.setItem(\'bankConnections\', JSON.stringify(connections));\n    \n    logToTerminal(`New bank connection established: ${bankName} (${type})`, \'success\', \'NETWORK\');\n    return true;\n}\n\nfunction testAllBankConnections() {\n    const connections = JSON.parse(localStorage.getItem(\'bankConnections\')) || [];\n    \n    logToTerminal(\'Starting bank connection test...\', \'info\', \'NETWORK_TEST\');\n    \n    connections.forEach(connection => {\n        // Simulate connection test\n        const testResult = testConnection(connection);\n        \n        logToTerminal(`Testing ${connection.bankName}: ${testResult.status} (${testResult.latency}ms)`, \n            testResult.status === \'success\' ? \'success\' : \'error\', \n            \'NETWORK_TEST\');\n        \n        // Update last signal\n        connection.lastSignal = new Date().toISOString();\n        connection.latency = testResult.latency;\n    });\n    \n    localStorage.setItem(\'bankConnections\', JSON.stringify(connections));\n    logToTerminal(`Bank connection test completed. ${connections.length} connections tested.`, \'success\', \'NETWORK_TEST\');\n}\n\nfunction testConnection(connection) {\n    // Simulate connection test with random latency\n    const latency = Math.floor(Math.random() * 150) + 30;\n    const success = latency < 200;\n    \n    return {\n        status: success ? \'success\' : \'failed\',\n        latency: latency\n    };\n}\n\nfunction sendSignalToBank(bankCode, signalData) {\n    const connections = JSON.parse(localStorage.getItem(\'bankConnections\')) || [];\n    const connection = connections.find(c => c.bankCode === bankCode);\n    \n    if (!connection) {\n        logToTerminal(`Bank not connected: ${bankCode}`, \'error\', \'SIGNAL\');\n        return false;\n    }\n    \n    logToTerminal(`Sending signal to ${connection.bankName}: ${signalData.type}`, \'signal\', \'SIGNAL\');\n    \n    // Simulate signal transmission\n    setTimeout(() => {\n        logToTerminal(`Signal received by ${connection.bankName}`, \'success\', \'SIGNAL\');\n        connection.lastSignal = new Date().toISOString();\n        localStorage.setItem(\'bankConnections\', JSON.stringify(connections));\n    }, connection.latency);\n    \n    return true;\n}\n\n// ============================================\n// ADMIN AUTHENTICATION\n// ============================================\n\nfunction adminLogin() {\n    const account = document.getElementById(\'account\').value.trim();\n    const phone = document.getElementById(\'phone\').value.trim();\n    const pin = document.getElementById(\'pin\').value.trim();\n    \n    const errorDiv = document.getElementById(\'error\');\n    \n    // Validate against all accepted credentials\n    const isValidAccount = (account === ADMIN_CONFIG.account || \n                          account === ADMIN_CONFIG.account.replace(/\\s/g, \'\') ||\n                          account === BANK_INFO.account);\n    \n    const isValidPhone = (phone === ADMIN_CONFIG.phone || \n                        phone === ADMIN_CONFIG.phone.replace(\'+\', \'\') ||\n                        phone === "Adegan95" ||\n                        phone === "adegan95");\n    \n    const isValidPin = pin === ADMIN_CONFIG.pin;\n    \n    if (isValidAccount && isValidPhone && isValidPin) {\n        // Successful login\n        localStorage.setItem(\'admin\', \'true\');\n        localStorage.setItem(\'adminName\', ADMIN_CONFIG.name);\n        localStorage.setItem(\'adminLoginTime\', new Date().toISOString());\n        \n        logNetworkActivity(\'ADMIN_LOGIN\', \'SUCCESS\', account);\n        logToTerminal(`Admin login successful: ${ADMIN_CONFIG.name}`, \'success\', \'AUTH\');\n        \n        showToast(\'Welcome, \' + ADMIN_CONFIG.name + \'!\', \'success\');\n        \n        setTimeout(() => {\n            window.location.href = \'admin-dashboard.html\';\n        }, 1000);\n    } else {\n        // Failed login attempt\n        const errorMsg = \'‚õî ACCESS DENIED: Invalid credentials provided.\';\n        errorDiv.innerText = errorMsg;\n        \n        logUnauthorizedAttempt(account, phone);\n        logNetworkActivity(\'ADMIN_LOGIN\', \'FAILED\', account);\n        logToTerminal(`Failed admin login attempt from IP: ${getCurrentIP()}`, \'error\', \'AUTH\');\n        \n        setTimeout(() => {\n            errorDiv.innerText = \'\';\n        }, 5000);\n    }\n}\n\nfunction logout() {\n    logNetworkActivity(\'ADMIN_LOGOUT\', \'SUCCESS\', localStorage.getItem(\'adminName\'));\n    logToTerminal(`Admin logged out: ${localStorage.getItem(\'adminName\')}`, \'info\', \'AUTH\');\n    localStorage.removeItem(\'admin\');\n    window.location.href = \'index.html\';\n}\n\n// ============================================\n// CUSTOMER MANAGEMENT\n// ============================================\n\nfunction generateAccountNumber() {\n    const timestamp = Date.now().toString(36);\n    const random = Math.random().toString(36).substring(2, 8);\n    return "GPB" + timestamp.toUpperCase() + random.toUpperCase();\n}\n\nfunction generateSerialNumber() {\n    const letters = [\'GP\', \'AD\', \'PL\', \'BN\'];\n    const letter = letters[Math.floor(Math.random() * letters.length)];\n    const numbers = Math.floor(10000000 + Math.random() * 90000000);\n    return letter + numbers;\n}\n\nfunction generateTenDigitAccount() {\n    return Math.floor(1000000000 + Math.random() * 9000000000).toString();\n}\n\nfunction createCustomer() {\n    const name = document.getElementById(\'custName\').value.trim();\n    const phone = document.getElementById(\'custPhone\').value.trim();\n    const email = document.getElementById(\'custEmail\').value.trim();\n    const bvn = document.getElementById(\'custBVN\').value.trim();\n    const nin = document.getElementById(\'custNIN\').value.trim();\n    const accountType = document.getElementById(\'accountType\').value; // commercial, microfinance\n    \n    // Validation\n    if (!name || !phone || !email) {\n        showToast(\'Please fill in all required fields\', \'error\');\n        return;\n    }\n    \n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    \n    // Check if customer already exists\n    const existingCustomer = customers.find(c => c.phone === phone || c.email === email);\n    if (existingCustomer) {\n        showToast(\'Customer with this phone or email already exists\', \'error\');\n        return;\n    }\n    \n    const newCustomer = {\n        id: Date.now(),\n        name: name,\n        phone: phone,\n        email: email,\n        bvn: bvn || \'Not Provided\',\n        nin: nin || \'Not Provided\',\n        account: generateAccountNumber(),\n        serial: generateSerialNumber(),\n        tenDigitAccount: generateTenDigitAccount(),\n        loginPin: generatePin(),\n        balance: 0,\n        currency: \'NGN\',\n        balanceUSD: 0,\n        balanceEUR: 0,\n        balanceGBP: 0,\n        status: \'active\',\n        accountType: accountType,\n        kycLevel: 1,\n        amlScore: Math.floor(Math.random() * 30),\n        createdAt: new Date().toISOString(),\n        ledger: [],\n        virtualCards: [],\n        pilgrimWallet: null,\n        pilgrimBalance: 0,\n        profitBalance: 0,\n        forexAccount: null\n    };\n    \n    customers.push(newCustomer);\n    localStorage.setItem(\'customers\', JSON.stringify(customers));\n    \n    // Log transaction\n    logTransaction(newCustomer.account, \'ACCOUNT_CREATION\', 0, \'Customer account created\');\n    logToTerminal(`New customer created: ${name} (${accountType})`, \'success\', \'CUSTOMER\');\n    \n    showToast(\'Customer Created Successfully!\', \'success\');\n    alert(`Customer Created:\\n\\nName: ${name}\\nAccount: ${newCustomer.account}\\nSerial: ${newCustomer.serial}\\n10-Digit Account: ${newCustomer.tenDigitAccount}\\nLogin PIN: ${newCustomer.loginPin}\\n\\nPlease save these details for the customer.`);\n    \n    // Clear form\n    document.getElementById(\'custName\').value = \'\';\n    document.getElementById(\'custPhone\').value = \'\';\n    document.getElementById(\'custEmail\').value = \'\';\n    document.getElementById(\'custBVN\').value = \'\';\n    document.getElementById(\'custNIN\').value = \'\';\n    \n    // Reload customer list\n    loadCustomers();\n    loadDashboard();\n}\n\nfunction generatePin() {\n    return Math.floor(1000 + Math.random() * 9000).toString();\n}\n\nfunction searchCustomer() {\n    const input = document.getElementById(\'searchInput\').value.trim();\n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    \n    const result = customers.find(c => \n        c.account === input || \n        c.name.toLowerCase().includes(input.toLowerCase()) ||\n        c.phone === input ||\n        c.serial === input ||\n        c.tenDigitAccount === input\n    );\n    \n    if (result) {\n        const resultHTML = `\n            <div style="background: rgba(34, 197, 94, 0.1); padding: 20px; border-radius: 10px; border: 1px solid #22c55e; margin-top: 15px;">\n                <h3 style="color: #22c55e;">‚úÖ Customer Found</h3>\n                <p><strong>Name:</strong> ${result.name}</p>\n                <p><strong>Account:</strong> ${result.account}</p>\n                <p><strong>10-Digit Account:</strong> ${result.tenDigitAccount}</p>\n                <p><strong>Serial:</strong> ${result.serial}</p>\n                <p><strong>Phone:</strong> ${result.phone}</p>\n                <p><strong>Email:</strong> ${result.email}</p>\n                <p><strong>BVN:</strong> ${result.bvn}</p>\n                <p><strong>NIN:</strong> ${result.nin}</p>\n                <p><strong>Account Type:</strong> ${result.accountType.toUpperCase()}</p>\n                <p><strong>Balance (NGN):</strong> ‚Ç¶${result.balance.toLocaleString(\'en-NG\', {minimumFractionDigits: 2})}</p>\n                <p><strong>Balance (USD):</strong> $${result.balanceUSD.toLocaleString(\'en-US\', {minimumFractionDigits: 2})}</p>\n                <p><strong>Profit Balance:</strong> $${(result.profitBalance || 0).toLocaleString(\'en-US\', {minimumFractionDigits: 2})}</p>\n                <p><strong>Status:</strong> <span class="status status-success">${result.status.toUpperCase()}</span></p>\n                <p><strong>KYC Level:</strong> ${result.kycLevel}</p>\n                <p><strong>AML Score:</strong> ${result.amlScore}</p>\n                <p><strong>Created:</strong> ${new Date(result.createdAt).toLocaleString()}</p>\n                <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">\n                    <button onclick="editCustomer(\'${result.account}\')" style="width: auto; padding: 8px 20px;">Edit Profile</button>\n                    <button onclick="viewTransactions(\'${result.account}\')" style="width: auto; padding: 8px 20px;">View Transactions</button>\n                    <button onclick="creditCustomer(\'${result.account}\')" style="width: auto; padding: 8px 20px; background: linear-gradient(135deg, #16a34a, #22c55e);">Credit</button>\n                    <button onclick="debitCustomer(\'${result.account}\')" style="width: auto; padding: 8px 20px; background: linear-gradient(135deg, #ef4444, #dc2626);">Debit</button>\n                    <button onclick="deleteCustomer(\'${result.account}\')" style="width: auto; padding: 8px 20px; background: linear-gradient(135deg, #ef4444, #dc2626);">Delete Account</button>\n                </div>\n            </div>\n        `;\n        document.getElementById(\'searchResult\').innerHTML = resultHTML;\n    } else {\n        document.getElementById(\'searchResult\').innerHTML = `\n            <div style="background: rgba(239, 68, 68, 0.1); padding: 20px; border-radius: 10px; border: 1px solid #ef4444; margin-top: 15px;">\n                <p style="color: #ef4444;">‚ùå Customer Not Found</p>\n            </div>\n        `;\n    }\n}\n\nfunction creditCustomer(account) {\n    const amount = prompt(\'Enter amount to credit (NGN):\');\n    if (!amount || isNaN(amount)) {\n        showToast(\'Invalid amount\', \'error\');\n        return;\n    }\n    \n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    const customerIndex = customers.findIndex(c => c.account === account);\n    \n    if (customerIndex !== -1) {\n        customers[customerIndex].balance += parseFloat(amount);\n        customers[customerIndex].ledger.push({\n            date: new Date().toISOString(),\n            type: \'credit\',\n            amount: parseFloat(amount),\n            currency: \'NGN\',\n            description: \'Admin credit\'\n        });\n        \n        localStorage.setItem(\'customers\', JSON.stringify(customers));\n        logTransaction(account, \'CREDIT\', parseFloat(amount), \'Admin credit\', \'NGN\');\n        logToTerminal(`Customer credited: ${customers[customerIndex].name} - ‚Ç¶${amount}`, \'success\', \'ADMIN\');\n        \n        showToast(`‚Ç¶${parseFloat(amount).toLocaleString()} credited successfully`, \'success\');\n        searchCustomer();\n    }\n}\n\nfunction debitCustomer(account) {\n    const amount = prompt(\'Enter amount to debit (NGN):\');\n    if (!amount || isNaN(amount)) {\n        showToast(\'Invalid amount\', \'error\');\n        return;\n    }\n    \n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    const customerIndex = customers.findIndex(c => c.account === account);\n    \n    if (customerIndex !== -1) {\n        if (customers[customerIndex].balance < parseFloat(amount)) {\n            showToast(\'Insufficient balance\', \'error\');\n            return;\n        }\n        \n        customers[customerIndex].balance -= parseFloat(amount);\n        customers[customerIndex].ledger.push({\n            date: new Date().toISOString(),\n            type: \'debit\',\n            amount: parseFloat(amount),\n            currency: \'NGN\',\n            description: \'Admin debit\'\n        });\n        \n        localStorage.setItem(\'customers\', JSON.stringify(customers));\n        logTransaction(account, \'DEBIT\', parseFloat(amount), \'Admin debit\', \'NGN\');\n        logToTerminal(`Customer debited: ${customers[customerIndex].name} - ‚Ç¶${amount}`, \'warning\', \'ADMIN\');\n        \n        showToast(`‚Ç¶${parseFloat(amount).toLocaleString()} debited successfully`, \'success\');\n        searchCustomer();\n    }\n}\n\nfunction editCustomer(account) {\n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    const customer = customers.find(c => c.account === account);\n    \n    if (!customer) {\n        showToast(\'Customer not found\', \'error\');\n        return;\n    }\n    \n    const newName = prompt(\'Enter new name:\', customer.name);\n    const newPhone = prompt(\'Enter new phone:\', customer.phone);\n    const newEmail = prompt(\'Enter new email:\', customer.email);\n    const newStatus = prompt(\'Enter status (active/suspended/closed):\', customer.status);\n    \n    if (newName) customer.name = newName;\n    if (newPhone) customer.phone = newPhone;\n    if (newEmail) customer.email = newEmail;\n    if (newStatus) customer.status = newStatus;\n    \n    localStorage.setItem(\'customers\', JSON.stringify(customers));\n    logToTerminal(`Customer updated: ${customer.name}`, \'info\', \'ADMIN\');\n    showToast(\'Customer profile updated successfully\', \'success\');\n    searchCustomer();\n}\n\nfunction deleteCustomer(account) {\n    if (!confirm(\'Are you sure you want to delete this customer account? This action cannot be undone.\')) {\n        return;\n    }\n    \n    let customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    const customer = customers.find(c => c.account === account);\n    customers = customers.filter(c => c.account !== account);\n    localStorage.setItem(\'customers\', JSON.stringify(customers));\n    \n    logTransaction(account, \'ACCOUNT_DELETION\', 0, \'Customer account deleted by admin\');\n    logToTerminal(`Customer deleted: ${customer.name}`, \'warning\', \'ADMIN\');\n    \n    showToast(\'Customer account deleted successfully\', \'success\');\n    document.getElementById(\'searchResult\').innerHTML = \'\';\n    loadCustomers();\n    loadDashboard();\n}\n\n// ============================================\n// TRANSACTION MANAGEMENT\n// ============================================\n\nfunction processTransaction() {\n    const account = document.getElementById(\'transAccount\').value.trim();\n    const amount = parseFloat(document.getElementById(\'transAmount\').value);\n    const currency = document.getElementById(\'transCurrency\').value;\n    const type = document.getElementById(\'transType\').value;\n    const description = document.getElementById(\'transDesc\').value.trim() || \'Admin transaction\';\n    \n    if (!account || !amount || amount <= 0) {\n        showToast(\'Please enter valid account number and amount\', \'error\');\n        return;\n    }\n    \n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    const customer = customers.find(c => c.account === account || c.tenDigitAccount === account);\n    \n    if (!customer) {\n        showToast(\'Customer not found\', \'error\');\n        return;\n    }\n    \n    let profitBalance = parseFloat(localStorage.getItem(\'profit\')) || 0;\n    let mainBalance = parseFloat(localStorage.getItem(\'mainBalance\')) || 0;\n    \n    if (type === \'debit\') {\n        // Check balance\n        const currentBalance = currency === \'NGN\' ? customer.balance :\n                            currency === \'USD\' ? customer.balanceUSD :\n                            currency === \'EUR\' ? customer.balanceEUR : customer.balanceGBP;\n        \n        if (currentBalance < amount) {\n            showToast(\'Insufficient funds. Current balance: \' + currentBalance.toLocaleString() + \' \' + currency, \'error\');\n            return;\n        }\n        \n        // Debit customer\n        if (currency === \'NGN\') customer.balance -= amount;\n        else if (currency === \'USD\') customer.balanceUSD -= amount;\n        else if (currency === \'EUR\') customer.balanceEUR -= amount;\n        else customer.balanceGBP -= amount;\n        \n        // Add profit (1% of debit)\n        profitBalance += amount * 0.01;\n        \n    } else {\n        // Credit customer\n        if (currency === \'NGN\') customer.balance += amount;\n        else if (currency === \'USD\') customer.balanceUSD += amount;\n        else if (currency === \'EUR\') customer.balanceEUR += amount;\n        else customer.balanceGBP += amount;\n        \n        // Add profit (2% of credit)\n        profitBalance += amount * 0.02;\n        \n        // Add to main balance\n        mainBalance += amount;\n    }\n    \n    // Create ledger entry\n    const ledgerEntry = {\n        date: new Date().toISOString(),\n        type: type,\n        amount: amount,\n        currency: currency,\n        description: description\n    };\n    customer.ledger.push(ledgerEntry);\n    \n    // Save changes\n    localStorage.setItem(\'customers\', JSON.stringify(customers));\n    localStorage.setItem(\'profit\', profitBalance.toString());\n    localStorage.setItem(\'mainBalance\', mainBalance.toString());\n    \n    // Log transaction\n    logTransaction(account, type.toUpperCase(), amount, description, currency);\n    logToTerminal(`Transaction processed: ${type.toUpperCase()} ${amount} ${currency} - ${customer.name}`, type === \'debit\' ? \'warning\' : \'success\', \'TRANSACTION\');\n    \n    // Update UI\n    updateProfitDisplay();\n    loadDashboard();\n    \n    showToast(`Transaction Successful: ${type.toUpperCase()} ${amount.toLocaleString()} ${currency}`, \'success\');\n    \n    // Clear form\n    document.getElementById(\'transAccount\').value = \'\';\n    document.getElementById(\'transAmount\').value = \'\';\n    document.getElementById(\'transDesc\').value = \'\';\n}\n\nfunction transferProfit() {\n    let profitBalance = parseFloat(localStorage.getItem(\'profit\')) || 0;\n    let mainBalance = parseFloat(localStorage.getItem(\'mainBalance\')) || 0;\n    \n    if (profitBalance <= 0) {\n        showToast(\'No profit balance to transfer\', \'error\');\n        return;\n    }\n    \n    mainBalance += profitBalance;\n    \n    localStorage.setItem(\'mainBalance\', mainBalance.toString());\n    localStorage.setItem(\'profit\', \'0\');\n    \n    updateProfitDisplay();\n    loadDashboard();\n    \n    logToTerminal(`Profit transferred to main balance: $${profitBalance.toLocaleString()}`, \'success\', \'PROFIT\');\n    showToast(`$${profitBalance.toLocaleString()} profit transferred to main balance`, \'success\');\n}\n\n// ============================================\n// DASHBOARD FUNCTIONS\n// ============================================\n\nfunction loadDashboard() {\n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    const transactions = JSON.parse(localStorage.getItem(\'transactions\')) || [];\n    const profitBalance = parseFloat(localStorage.getItem(\'profit\')) || 0;\n    const mainBalance = parseFloat(localStorage.getItem(\'mainBalance\')) || 0;\n    \n    // Update stats\n    document.getElementById(\'total-customers\').textContent = customers.length;\n    document.getElementById(\'main-balance\').textContent = \'$\' + mainBalance.toLocaleString(\'en-US\', {minimumFractionDigits: 2});\n    document.getElementById(\'profit-balance\').textContent = \'$\' + profitBalance.toLocaleString(\'en-US\', {minimumFractionDigits: 2});\n    document.getElementById(\'total-transactions\').textContent = transactions.length;\n    \n    updateProfitDisplay();\n    loadTerminalLogs();\n    loadBankConnections();\n}\n\nfunction updateProfitDisplay() {\n    const profitBalance = parseFloat(localStorage.getItem(\'profit\')) || 0;\n    const profitDisplay = document.getElementById(\'profitBalanceDisplay\');\n    if (profitDisplay) {\n        profitDisplay.textContent = \'$\' + profitBalance.toLocaleString(\'en-US\', {minimumFractionDigits: 2});\n    }\n}\n\nfunction loadCustomers() {\n    const customers = JSON.parse(localStorage.getItem(\'customers\')) || [];\n    const tbody = document.getElementById(\'customerTableBody\');\n    \n    if (!tbody) return;\n    \n    tbody.innerHTML = \'\';\n    \n    customers.forEach(customer => {\n        const row = document.createElement(\'tr\');\n        row.innerHTML = `\n            <td>${customer.account}</td>\n            <td>${customer.name}</td>\n            <td>${customer.phone}</td>\n            <td>‚Ç¶${customer.balance.toLocaleString(\'en-NG\', {minimumFractionDigits: 2})}</td>\n            <td><span class="status status-success">${customer.status.toUpperCase()}</span></td>\n            <td>\n                <button onclick="searchCustomer(\'${customer.account}\')" style="width: auto; padding: 5px 10px; font-size: 0.85rem;">View</button>\n            </td>\n        `;\n        tbody.appendChild(row);\n    });\n}\n\nfunction loadTransactions() {\n    const transactions = JSON.parse(localStorage.getItem(\'transactions\')) || [];\n    const tbody = document.getElementById(\'transactionTableBody\');\n    \n    if (!tbody) return;\n    \n    tbody.innerHTML = \'\';\n    \n    // Show last 20 transactions\n    const recentTransactions = transactions.slice(-20).reverse();\n    \n    recentTransactions.forEach(tx => {\n        const row = document.createElement(\'tr\');\n        const amountColor = tx.type === \'CREDIT\' ? \'#22c55e\' : \'#ef4444\';\n        row.innerHTML = `\n            <td>${tx.id}</td>\n            <td>${tx.account}</td>\n            <td style="color: ${amountColor}; font-weight: 600;">${tx.type}</td>\n            <td>${tx.currency} ${tx.amount.toLocaleString()}</td>\n            <td>${new Date(tx.date).toLocaleString()}</td>\n            <td><span class="status status-success">${tx.status}</span></td>\n        `;\n        tbody.appendChild(row);\n    });\n}\n\n// ============================================\n// TERMINAL FUNCTIONS\n// ============================================\n\nfunction loadTerminalLogs() {\n    const terminalLogs = JSON.parse(localStorage.getItem(\'terminalLogs\')) || [];\n    const terminalDiv = document.getElementById(\'adminTerminal\');\n    \n    if (!terminalDiv) return;\n    \n    terminalDiv.innerHTML = `\n        <p style="color: #8b5cf6;">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</p>\n        <p style="color: #22c55e;">üè¶ GLOBAL PILGRIM BANK - ADMINISTRATOR TERMINAL</p>\n        <p style="color: #8b5cf6;">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</p>\n        <p>Owner: ${ADMIN_CONFIG.name}</p>\n        <p>Bank Code: ${BANK_INFO.code}</p>\n        <p>SWIFT: ${BANK_INFO.swift}</p>\n        <p>Current Balance: $${localStorage.getItem(\'mainBalance\')}</p>\n        <p>Profit Balance: $${localStorage.getItem(\'profit\')}</p>\n        <p style="color: #8b5cf6;">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</p>\n    `;\n    \n    // Show last 50 logs\n    const recentLogs = terminalLogs.slice(-50);\n    \n    recentLogs.forEach(log => {\n        const colorMap = {\n            \'info\': \'#22c55e\',\n            \'success\': \'#16a34a\',\n            \'warning\': \'#f59e0b\',\n            \'error\': \'#ef4444\',\n            \'signal\': \'#8b5cf6\',\n            \'transfer\': \'#3b82f6\'\n        };\n        \n        const logEntry = document.createElement(\'p\');\n        const timestamp = new Date(log.timestamp).toLocaleTimeString();\n        logEntry.innerHTML = `<span style="color: #64748b;">[${timestamp}]</span> <span style="color: ${colorMap[log.type]};">[${log.source}]</span> ${log.message}`;\n        terminalDiv.appendChild(logEntry);\n    });\n}\n\nfunction loadBankConnections() {\n    const connections = JSON.parse(localStorage.getItem(\'bankConnections\')) || [];\n    const connectionsDiv = document.getElementById(\'bankConnectionsList\');\n    \n    if (!connectionsDiv) return;\n    \n    if (connections.length === 0) {\n        connectionsDiv.innerHTML = \'<p style="color: #94a3b8;">No bank connections yet</p>\';\n        return;\n    }\n    \n    let connectionsHTML = \'\';\n    connections.forEach(connection => {\n        const statusColor = connection.status === \'connected\' ? \'#22c55e\' : \'#ef4444\';\n        \n        connectionsHTML += `\n            <div style="background: rgba(30, 41, 59, 0.5); padding: 15px; margin-bottom: 10px; border-radius: 8px; border-left: 3px solid ${statusColor};">\n                <div style="display: flex; justify-content: space-between;">\n                    <div>\n                        <p style="color: #e2e8f0; font-weight: 600;">${connection.bankName}</p>\n                        <p style="color: #64748b; font-size: 0.85rem;">Code: ${connection.bankCode} | Type: ${connection.type}</p>\n                    </div>\n                    <div style="text-align: right;">\n                        <p style="color: ${statusColor}; font-weight: 600;">${connection.status.toUpperCase()}</p>\n                        <p style="color: #94a3b8; font-size: 0.8rem;">Latency: ${connection.latency}ms</p>\n                    </div>\n                </div>\n            </div>\n        `;\n    });\n    \n    connectionsDiv.innerHTML = connectionsHTML;\n}\n\nfunction addNewBankConnection() {\n    const bankCode = document.getElementById(\'newBankCode\').value.trim();\n    const bankName = document.getElementById(\'newBankName\').value.trim();\n    const bankType = document.getElementById(\'newBankType\').value;\n    \n    if (!bankCode || !bankName) {\n        showToast(\'Please fill in all fields\', \'error\');\n        return;\n    }\n    \n    if (addBankConnection(bankCode, bankName, bankType)) {\n        document.getElementById(\'newBankCode\').value = \'\';\n        document.getElementById(\'newBankName\').value = \'\';\n        loadBankConnections();\n    }\n}\n\n// ============================================\n// TRANSACTION LOGGING\n// ============================================\n\nfunction logTransaction(account, type, amount, description, currency = \'NGN\') {\n    const transactions = JSON.parse(localStorage.getItem(\'transactions\')) || [];\n    \n    const transaction = {\n        id: generateTransactionId(),\n        account: account,\n        type: type,\n        amount: amount,\n        currency: currency,\n        description: description,\n        status: \'completed\',\n        date: new Date().toISOString()\n    };\n    \n    transactions.push(transaction);\n    localStorage.setItem(\'transactions\', JSON.stringify(transactions));\n}\n\nfunction generateTransactionId() {\n    const timestamp = Date.now().toString(36);\n    const random = Math.random().toString(36).substring(2, 8);\n    return \'TXN\' + timestamp.toUpperCase() + random.toUpperCase();\n}\n\n// ============================================\n// SECURITY & MONITORING\n// ============================================\n\nfunction logUnauthorizedAttempt(account = \'Unknown\', phone = \'Unknown\') {\n    const attempts = JSON.parse(localStorage.getItem(\'attempts\')) || [];\n    \n    attempts.push({\n        date: new Date().toLocaleString(),\n        account: account,\n        phone: phone,\n        ip: getCurrentIP(),\n        location: \'Unknown Network\',\n        browser: navigator.userAgent.substring(0, 50) + \'...\'\n    });\n    \n    localStorage.setItem(\'attempts\', JSON.stringify(attempts));\n}\n\nfunction logNetworkActivity(type, status, details) {\n    const networkLogs = JSON.parse(localStorage.getItem(\'networkLogs\')) || [];\n    \n    networkLogs.push({\n        timestamp: new Date().toISOString(),\n        type: type,\n        status: status,\n        details: details,\n        ip: getCurrentIP()\n    });\n    \n    localStorage.setItem(\'networkLogs\', JSON.stringify(networkLogs));\n}\n\nfunction loadAttempts() {\n    const attempts = JSON.parse(localStorage.getItem(\'attempts\')) || [];\n    const logsDiv = document.getElementById(\'attemptLogs\');\n    \n    if (!logsDiv) return;\n    \n    if (attempts.length === 0) {\n        logsDiv.innerHTML = \'<p style="color: #22c55e;">‚úÖ No unauthorized login attempts</p>\';\n        return;\n    }\n    \n    let display = \'\';\n    attempts.slice(-20).reverse().forEach(attempt => {\n        display += `\n            <div style="padding: 10px; margin-bottom: 10px; background: rgba(239, 68, 68, 0.1); border-left: 3px solid #ef4444; border-radius: 4px;">\n                <p style="color: #ef4444; font-weight: 600;">${attempt.date}</p>\n                <p style="color: #94a3b8;">Account: ${attempt.account} | Phone: ${attempt.phone}</p>\n                <p style="color: #64748b;">IP: ${attempt.ip} | Browser: ${attempt.browser}</p>\n            </div>\n        `;\n    });\n    \n    logsDiv.innerHTML = display;\n}\n\n// ============================================\n// UTILITY FUNCTIONS\n// ============================================\n\nfunction showToast(message, type = \'success\') {\n    const toast = document.createElement(\'div\');\n    toast.className = \'toast\';\n    toast.style.background = type === \'success\' ? \'#16a34a\' : \'#ef4444\';\n    toast.textContent = message;\n    \n    document.body.appendChild(toast);\n    \n    setTimeout(() => {\n        toast.remove();\n    }, 3000);\n}\n\nfunction getCurrentIP() {\n    return localStorage.getItem(\'adminIP\') || \'192.168.1.\' + Math.floor(Math.random() * 255);\n}\n\nfunction generateLogId() {\n    return \'LOG\' + Date.now().toString(36) + Math.random().toString(36).substring(2, 8);\n}\n\nfunction generateConnectionId() {\n    return \'CONN\' + Date.now().toString(36) + Math.random().toString(36).substring(2, 8);\n}\n\nfunction generateRandomString(length) {\n    const chars = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\';\n    let result = \'\';\n    for (let i = 0; i < length; i++) {\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return result;\n}\n\n// ============================================\n// INITIALIZATION\n// ============================================\n\n// Set admin IP on first load\nif (!localStorage.getItem(\'adminIP\')) {\n    localStorage.setItem(\'adminIP\', \'192.168.1.\' + Math.floor(Math.random() * 255));\n}\n\nconsole.log(\'Global Pilgrim Bank System Initialized\');\nconsole.log(\'Owner: \' + ADMIN_CONFIG.name);\nconsole.log(\'Bank Code: \' + BANK_INFO.code);\nconsole.log(\'SWIFT: \' + BANK_INFO.swift);\n</create-file>\n</function_calls>'}